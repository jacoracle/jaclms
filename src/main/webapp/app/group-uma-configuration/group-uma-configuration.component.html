<div class="main-container-br">
  <div class="alert-sequence-configuration">
    <jhi-alert-error></jhi-alert-error>
  </div>
  <div class="window-br">
    <!-- Header -->
    <div class="window-br-header">
      <h4>Configurar Grupo de UMAs</h4>
    </div>
    <div class="window-br-body-topbar-hide">
      <div class="line-gradient"></div>
    </div>

    <!-- Body -->
    <div class="window-br-body-full">

      <div [ngSwitch]="isAuthenticated()" *jhiHasAnyAuthority="'ROLE_USER'">

        <div class="container-stepper-group">
          <mat-horizontal-stepper [linear]="!isCompleted" #stepper class="stepper-n-content">

            <mat-step [stepControl]="formSteps?.get([0])" editable="isStepEditable">

              <ng-template matStepLabel>Registro de Grupo de UMAS</ng-template>
              <jhi-agrupador-uma-update [groupId]="idSequenceToLoad" (createdGroupEventEmit)="setAgrupador($event)"
                (formCreateEvent)="setCreateForm($event)"></jhi-agrupador-uma-update>

            </mat-step>

            <mat-step>
              <!--[stepControl]="secondFormGroup"-->

              <ng-template matStepLabel>Crear secuencia del Grupo</ng-template>
              <!-- componente que contiene contenido de paso 2 para crear la secuencia/agrupaciÃ³n de umas una vez generado el Grupo -->
              <jhi-secuencia-uma-update [createdGroup]="createdGroupSequence"></jhi-secuencia-uma-update>

            </mat-step>

          </mat-horizontal-stepper>
        </div>
      </div>


    </div>

    <!-- Footer -->
    <div class="window-br-footer">
      <!-- this cancel is for (back home)-->
      <button *ngIf="!isCreation()" routerLink="/uma-groups-home" matTooltip="Regresar al Home." class="secondary-btn">Cancelar</button>
      <!-- this cancel is for (delete created group)-->
      <button *ngIf="isCreation()" class="secondary-btn" (click)="revertData()" matTooltip="Deshace el Agrupador creado.">Cancelar</button>
      <!-- this save is form save a new group or edit group (save group) *ngIf="!isViewDetailOrEdit()"  -->
      <button  (click)="executeSave($event)" class="main-btn" matTooltip="Guarda y/o actualiza Agrupador.">Guardar</button>
      <!-- this save is for  -->
      <!-- <button *ngIf="isViewDetailOrEdit() && !isCreation()" (click)="executeSave($event)" class="main-btn">Guardar (save & update)</button> -->
      <!-- <p>{{isCompleted}} - ID: {{idSequenceToLoad}}</p> -->
      <button *ngIf="isCreation() && !isViewDetailOrEdit()" class="secondary-btn" matTooltip="Aceptar cambios y regresar al Home." routerLink="/uma-groups-home">Aceptar</button>
    </div>

  </div>
</div>