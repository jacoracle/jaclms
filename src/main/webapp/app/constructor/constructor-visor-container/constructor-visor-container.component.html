<div id="visor-container-grid">

    <!-- Alerts -->
    <div class="alert-visor">
        <jhi-alert-error></jhi-alert-error>
    </div>
    <div class="visor-component-artboard"
         [ngClass]="{'v-desktop': visorSize === 'desktop','v-tablet': visorSize === 'tablet','v-smartphone': visorSize === 'smartphone'}">
        <div class="artboard-delete">
            <i class="icon ni-delete icon-negative"></i>
        </div>
        <div class="artboard-name"><span>Name</span></div>

        <div class="row-visor-container">

            <div [hidden]="!showLoader" class="loader-layout">
                <div class="loader2"></div>
            </div>

            <div *ngIf="!contentBlocks.length" class="row-add-content">
                <button class="main-btn" (click)="addNewBlock()" [disabled]="">
                    <i class="icon ni-add"></i>
                    Agregar bloque de contenido
                </button>
            </div>

            <div class="col-jhi-block" *ngFor="let block of contentBlocks; let index = index;">
                <div (click)="selectBlock(index)" [ngClass]="{'selected-block': selectedBlock === index}"
                     class="row-content-block" *ngIf="this.contentBlocks.length > 0">

                    <div *ngFor="let componente of componentes;">
                        <div *ngIf="block.bloqueComponentes.tipoBloqueComponentes.nombre == componente.nombre" #target>
                            <ndc-dynamic [ndcDynamicComponent]="componente.componente"
                                         [ndcDynamicInputs]="{contentBlock:block, target:target, index:index}"
                                         [ndcDynamicOutputs]="{updateBlock: { handler: onUpdateBlock('$event', index), args: ['$event', index] }}"></ndc-dynamic>
                        </div>
                    </div>
                </div>
                <!-- Add content -->
                <div *ngIf="selectedBlock === index" class="row-add-content">
                    <button class="main-btn" (click)="addNewBlock()" [disabled]="">
                        <i class="icon ni-add"></i>
                        Agregar bloque de contenido
                    </button>
                </div>
            </div>

        </div>

    </div>
</div>
